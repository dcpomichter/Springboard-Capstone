{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kpape/OneDrive/Documents/GitHub/Springboard-Capstone/src/app/profile/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport axios from \"axios\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport React, { useEffect } from \"react\";\r\nimport Link from \"next/link\"\r\nimport { toast } from \"react-hot-toast\";\r\n\r\n\r\n\r\nexport default function UserProfile({ params }: any) {\r\n    const router = useRouter()\r\n    const [data, setData] = React.useState({})\r\n    const [loading, setLoading] = React.useState(true)\r\n\r\n    const logout = async () => {\r\n        try {\r\n            const response = await axios.get('/api/users/logout')\r\n            toast.success(\"Logout Success\")\r\n            router.push('/login')\r\n        }\r\n        catch (error: any) {\r\n            toast.error(\"Logout Failed, \" + error.message)\r\n        }\r\n    };\r\n\r\n    const getUserDetails = async () => {\r\n        try {\r\n            setLoading(true)\r\n            const response = await axios.get('/api/users/me')\r\n            setData(response.data.user)\r\n            toast.success(\"User Data Retrieved\")\r\n        }\r\n        catch (error: any) {\r\n            toast.error(error.message)\r\n        }\r\n        finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getUserDetails()\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"flex flex-col items-center justify-center min-h-screen py-2\">\r\n            {loading ? <h1>Loading...</h1> :\r\n                <>\r\n                    <h1>Profile for: {data._doc.username}</h1>\r\n                    <div>\r\n                        <p>Email: {data._doc.email}</p>\r\n                        <p>Verified Status: {data._doc.isVerified ? \"Verified\" : \"Not Verified\"}</p>\r\n                        <p>Admin Status: {data._doc.isAdmin ? \"Administrator\" : \"User\"}</p>\r\n                    </div>\r\n                    <div className=\"games\">\r\n                        <h3>Library</h3>\r\n                        {data.library.map(game => (\r\n                            <div className=\"game\">\r\n                                <Link href={`/games/${game._id.toString()}`} key={game._id}>\r\n                                    <p>{game.title}</p>\r\n                                    <p>Category: {game.category}</p>\r\n                                </Link>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                    <div className=\"games\">\r\n                        <h3>Reviews</h3>\r\n                        {data.reviews.map(review => (\r\n                            <div className=\"game\">\r\n                                <Link href={`/reviews/${review._id.toString()}`} key={review._id} >\r\n                                    <p>{review.title}</p>\r\n                                    <p>Rating: {review.rating}/5</p>\r\n                                </Link>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </>\r\n            }\r\n            <button onClick={logout} className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded justify-center items-right mb-4\">Logout</button>\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAUe,SAAS,YAAY,EAAE,MAAM,EAAO;;IAC/C,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,wKAAK,CAAC,QAAQ,CAAC,CAAC;IACxC,MAAM,CAAC,SAAS,WAAW,GAAG,wKAAK,CAAC,QAAQ,CAAC;IAE7C,MAAM,SAAS;QACX,IAAI;YACA,MAAM,WAAW,MAAM,mJAAK,CAAC,GAAG,CAAC;YACjC,mKAAK,CAAC,OAAO,CAAC;YACd,OAAO,IAAI,CAAC;QAChB,EACA,OAAO,OAAY;YACf,mKAAK,CAAC,KAAK,CAAC,oBAAoB,MAAM,OAAO;QACjD;IACJ;IAEA,MAAM,iBAAiB;QACnB,IAAI;YACA,WAAW;YACX,MAAM,WAAW,MAAM,mJAAK,CAAC,GAAG,CAAC;YACjC,QAAQ,SAAS,IAAI,CAAC,IAAI;YAC1B,mKAAK,CAAC,OAAO,CAAC;QAClB,EACA,OAAO,OAAY;YACf,mKAAK,CAAC,KAAK,CAAC,MAAM,OAAO;QAC7B,SACQ;YACJ,WAAW;QACf;IACJ;IAEA,IAAA,0KAAS;iCAAC;YACN;QACJ;gCAAG,EAAE;IAEL,qBACI,6LAAC;QAAI,WAAU;;YACV,wBAAU,6LAAC;0BAAG;;;;;qCACX;;kCACI,6LAAC;;4BAAG;4BAAc,KAAK,IAAI,CAAC,QAAQ;;;;;;;kCACpC,6LAAC;;0CACG,6LAAC;;oCAAE;oCAAQ,KAAK,IAAI,CAAC,KAAK;;;;;;;0CAC1B,6LAAC;;oCAAE;oCAAkB,KAAK,IAAI,CAAC,UAAU,GAAG,aAAa;;;;;;;0CACzD,6LAAC;;oCAAE;oCAAe,KAAK,IAAI,CAAC,OAAO,GAAG,kBAAkB;;;;;;;;;;;;;kCAE5D,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;0CAAG;;;;;;4BACH,KAAK,OAAO,CAAC,GAAG,CAAC,CAAA,qBACd,6LAAC;oCAAI,WAAU;8CACX,cAAA,6LAAC,0KAAI;wCAAC,MAAM,CAAC,OAAO,EAAE,KAAK,GAAG,CAAC,QAAQ,IAAI;;0DACvC,6LAAC;0DAAG,KAAK,KAAK;;;;;;0DACd,6LAAC;;oDAAE;oDAAW,KAAK,QAAQ;;;;;;;;uCAFmB,KAAK,GAAG;;;;;;;;;;;;;;;;kCAOtE,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;0CAAG;;;;;;4BACH,KAAK,OAAO,CAAC,GAAG,CAAC,CAAA,uBACd,6LAAC;oCAAI,WAAU;8CACX,cAAA,6LAAC,0KAAI;wCAAC,MAAM,CAAC,SAAS,EAAE,OAAO,GAAG,CAAC,QAAQ,IAAI;;0DAC3C,6LAAC;0DAAG,OAAO,KAAK;;;;;;0DAChB,6LAAC;;oDAAE;oDAAS,OAAO,MAAM;oDAAC;;;;;;;;uCAFwB,OAAO,GAAG;;;;;;;;;;;;;;;;;;0BASpF,6LAAC;gBAAO,SAAS;gBAAQ,WAAU;0BAAuG;;;;;;;;;;;;AAGtJ;GAxEwB;;QACL,kJAAS;;;KADJ","debugId":null}}]
}